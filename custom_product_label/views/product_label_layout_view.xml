<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- 45x45 label size -->
        <record id="paperformat_label_sheet_45x45" model="report.paperformat">
            <field name="name">45x45 Label Sheet</field>
            <field name="default" eval="True" />
            <field name="format">custom</field>
            <field name="page_height">45</field>
            <field name="page_width">45</field>
            <field name="orientation">Landscape</field>
            <field name="margin_top">0</field>
            <field name="margin_bottom">0</field>
            <field name="margin_left">0</field>
            <field name="margin_right">0</field>
            <field name="disable_shrinking" eval="True"/>
            <field name="dpi">96</field>
        </record>
        <record id="report_product_template_45x45_label" model="ir.actions.report">
            <field name="name">Product Label (PDF)</field>
            <field name="model">product.template</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">custom_product_label.report_producttemplate45x45label</field>
            <field name="report_file">custom_product_label.report_producttemplate45x45label</field>
            <field name="paperformat_id" ref="custom_product_label.paperformat_label_sheet_45x45"/>
            <field name="print_report_name">'Products Labels - %s' % (object.name)</field>
            <field name="binding_model_id" eval="False"/>
            <field name="binding_type">report</field>
        </record>
        <template id="report_producttemplate45x45label">
            <t t-call="web.basic_layout">
                <div class="page">
                    <t t-call="custom_product_label.report_product45x45label">
                        <t t-set="products" t-value="products"/>
                    </t>
                </div>
            </t>
        </template>
        <template id="report_product45x45label">
            <t t-call="web.html_container">
                <t t-set="report_to_call" t-value="'custom_product_label.report_simple_label45x45'"/>
                <t t-foreach="quantity.items()" t-as="barcode_and_qty_by_product">
                    <t t-set="product" t-value="barcode_and_qty_by_product[0]"/>
                    <t t-foreach="barcode_and_qty_by_product[1]" t-as="barcode_and_qty">
                        <t t-set="barcode" t-value="barcode_and_qty[0]"/>
                        <t t-foreach="range(barcode_and_qty[1])" t-as="qty">
                            <t t-call="{{report_to_call}}"/>
                        </t>
                    </t>
                </t>
            </t>
        </template>
        <template id="report_simple_label45x45">
            <t t-set="barcode_size" t-value="'width:45mm;height:10mm;'"/>
            <div class="o_label_sheet" style="width:45mm;height:45mm;font-size: 60%;">

                <div>
                    <t t-if="price_included">
                        <div class="text-center" style="font-size: 12px;" >
                            <span class="text-wrap" t-field="product.display_name"/>
                        </div> 
                    </t>
                    <t t-else="">
                        <div class="text-center o_label_full_with" style="font-size: 12px;" >
                            <span class="text-wrap" t-field="product.display_name"/>
                        </div>
                    </t>
                    <div class="o_label_price" style="text-align: center;font-size: 8px;" >
                        <t t-if="product.is_product_variant">
                            <strong class="o_label_price" t-field="product.lst_price" t-options="{'widget': 'monetary'}"/>
                        </t>
                        <t t-else="">
                            <strong class="o_label_price" t-field="product.list_price" t-options="{'widget': 'monetary'}"/>
                        </t>
                    </div>
                    <div class="text-center o_label_small_barcode" style="font-size: 10px;" >
                        <t t-if="barcode">
                            <span  t-out="barcode" t-options="{'widget': 'barcode', 'symbology': 'auto', 'img_style': barcode_size}"/>
                            <span  class="text-center" t-out="barcode"/>
                        </t>
                    </div>
                    <div class="text-center o_label_full_with" style="font-size: 10px;" >
                        <span class="text-nowrap" t-field="product.default_code"/>
                    </div>
                    
                </div>
            </div>
        </template>
        <!-- 38X25 label size -->
        <record id="paperformat_label_sheet_38x25" model="report.paperformat">
            <field name="name">38x25 Label Sheet</field>
            <field name="default" eval="True" />
            <field name="format">custom</field>
            <field name="page_height">38</field>
            <field name="page_width">25</field>
            <field name="orientation">Landscape</field>
            <field name="margin_top">0</field>
            <field name="margin_bottom">0</field>
            <field name="margin_left">0</field>
            <field name="margin_right">0</field>
            <field name="disable_shrinking" eval="True"/>
            <field name="dpi">96</field>
        </record>
        <record id="report_product_template_38x25_label" model="ir.actions.report">
            <field name="name">Product Label (PDF)</field>
            <field name="model">product.template</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">custom_product_label.report_producttemplate38x25label</field>
            <field name="report_file">custom_product_label.report_producttemplate38x25label</field>
            <field name="paperformat_id" ref="custom_product_label.paperformat_label_sheet_38x25"/>
            <field name="print_report_name">'Products Labels - %s' % (object.name)</field>
            <field name="binding_model_id" eval="False"/>
            <field name="binding_type">report</field>
        </record>
        <template id="report_producttemplate38x25label">
            <t t-call="web.basic_layout">
                <div class="page">
                    <t t-call="custom_product_label.report_product38x25label">
                        <t t-set="products" t-value="products"/>
                    </t>
                </div>
            </t>
        </template>
        <template id="report_product38x25label">
            <t t-call="web.html_container">
                <t t-set="report_to_call" t-value="'custom_product_label.report_simple_label38X25'"/>
                <t t-foreach="quantity.items()" t-as="barcode_and_qty_by_product">
                    <t t-set="product" t-value="barcode_and_qty_by_product[0]"/>
                    <t t-foreach="barcode_and_qty_by_product[1]" t-as="barcode_and_qty">
                        <t t-set="barcode" t-value="barcode_and_qty[0]"/>
                        <t t-foreach="range(barcode_and_qty[1])" t-as="qty">
                            <t t-call="{{report_to_call}}"/>
                        </t>
                    </t>
                </t>
            </t>
        </template>
        <template id="report_simple_label38X25">
            <t t-set="barcode_size" t-value="'width:32mm;height:5mm'"/>
                <div class="o_label_sheet" style="width:38mm;height:25mm;font-size: 38%;">
                    
                    <div>
                        <t t-if="price_included" >
                            <div class="text-center" style="font-size: 8px;" >
                                <span t-field="product.display_name"/>
                            </div> 
                        </t>
                        <t t-else="">
                            <div class="text-center" style="font-size: 8px;"  >
                                <span class="text-wrap" t-field="product.display_name"/>
                            </div>
                        </t>
                        <div class="o_label_price" style="text-align: center;font-size: 5px;">
                            <t t-if="product.is_product_variant">
                                <strong  class="o_label_price" t-field="product.lst_price" t-options="{'widget': 'monetary'}"/>
                            </t>
                            <t t-else="">
                                <strong class="o_label_price"  t-field="product.list_price" t-options="{'widget': 'monetary'}"/>
                            </t>
                        </div>
                        <div class="text-center o_label_small_barcode" style="font-size: 5px;" >
                            <t t-if="barcode">
                                <div t-out="barcode"  t-options="{'widget': 'barcode', 'symbology': 'auto', 'img_style': barcode_size}"/>
                                <span  class="text-center" t-out="barcode"/>
                            </t>
                           
                        </div>

                        <div class="text-center o_label_full_with" style="font-size: 5px;" >
                             <span class="text-nowrap" t-field="product.default_code"/>
                        </div>
                        
                    </div>
                </div>
        </template>
    </data>
</odoo>